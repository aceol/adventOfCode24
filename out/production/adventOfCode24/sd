
fun readTextFile(fileName: String): String
        = File(fileName).readText()



// 430
fun day022() {
    val data = readFileAsLinesUsingUseLines("./src/day2.txt");
    val safeCount = data.map {
        val iterator = it.listIterator()
        var valid = isValid(it)
        while(iterator.hasNext() && !valid) {
            val truncatedList = it.toMutableList()
            truncatedList.removeAt(iterator.nextIndex())
            valid = isValid(truncatedList)
            iterator.next()
        }
        valid
    }.count { it }

    val methodName = object {}.javaClass.enclosingMethod.name
    println("Advent of code $methodName, I found an answer: $safeCount")
}

fun day031() {
    val input = readTextFile("src/day3.txt");
    val regex =  """mul\((?<left>\d*),(\d*)\)""".toRegex().findAll(input)

    val res = regex.fold (0, { acc, next ->
        val (_, left, right) = next.groupValues;
        acc + (left.toInt()*right.toInt());
    })
    val methodName = object {}.javaClass.enclosingMethod.name
    println("Advent of code $methodName, I found an answer: $res")
